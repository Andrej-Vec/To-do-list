(()=>{"use strict";window.addEventListener("load",(()=>{const e=document.querySelector(".form__submit"),t=document.querySelector(".block-form__btn"),a=document.querySelector(".task-main__tasks");let s=JSON.parse(localStorage.getItem("array"));function n(e){const a=document.createElement("div");a.classList.add("item-task");const n=document.createElement("div");n.classList.add("item-task__action");const c=document.createElement("button");c.classList.add("item-task__edit"),c.innerHTML="Edit";const d=document.createElement("button");d.classList.add("item-task__delete"),d.innerHTML="Delete",n.append(c),n.append(d);const i=document.createElement("input");return i.value=e,i.classList.add("item-task__btn"),i.type="text",i.setAttribute("readonly","readonly"),a.append(i),a.append(n),t.value="",function(e,t,a,n){e.addEventListener("click",(()=>{"edit"==e.innerHTML.toLowerCase()?(t.removeAttribute("readonly"),t.focus(),e.innerHTML="Save",t.classList.add("_active")):t.value<=0?(alert("Please, add the task"),t.focus()):(t.setAttribute("readonly","readonly"),e.innerHTML="Edit",t.classList.remove("_active"),a!=t.value&&(s=s.map((e=>a!=e?e:t.value))),localStorage.setItem("array",JSON.stringify(s)))}))}(c,i,e),function(e,t){e.addEventListener("click",(e=>{t.classList.contains("_active")?alert("save changes"):(s=s.filter((e=>{if(e!=t.value)return e})),localStorage.setItem("array",JSON.stringify(s)),e.target.closest(".item-task").remove())}))}(d,i),a}s||(s=["Create a large, visual to-do list","Develop a routine and stick to it"],localStorage.setItem("array",JSON.stringify(s))),s.forEach((e=>{a.prepend(n(e))})),e.addEventListener("click",(e=>{e.preventDefault();const c=t.value;if(!c)return void alert("Please add the task");s.push(c),localStorage.setItem("array",JSON.stringify(s));const d=n(c);a.prepend(d)}));const c=document.querySelector(".header__btn_left"),d=document.querySelector(".header__btn_right");c.classList.contains("_active")?(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light")):(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark")),c.addEventListener("click",(()=>{c.classList.add("_active"),d.classList.remove("_active"),document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light")})),d.addEventListener("click",(()=>{d.classList.add("_active"),c.classList.remove("_active"),document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark")}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();